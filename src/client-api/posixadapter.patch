diff -r -c -x CVS -x config.guess -x config.sub -x depcomp -x install-sh -x ltmain.sh -x missing -x aclocal.m4 -x configure -x '.#*' -x '*~' -x '*.in' -x autom4te.cache /home/patrick/projects/native client-api
diff -r -c -x CVS -x config.guess -x config.sub -x depcomp -x install-sh -x ltmain.sh -x missing -x aclocal.m4 -x configure -x '.#*' -x '*~' -x '*.in' -x autom4te.cache /home/patrick/projects/native/build/autotools/src/Makefile.am client-api/build/autotools/src/Makefile.am
*** /home/patrick/projects/native/build/autotools/src/Makefile.am	2008-06-19 20:42:10.000000000 +0200
--- client-api/build/autotools/src/Makefile.am	2008-06-19 21:24:34.000000000 +0200
***************
*** 245,248 ****
  
  vpath %.c   $(srcdir)/../../../src/c++/common/base
  
! AM_CPPFLAGS = -I$(srcdir)/../../../src/include/posix -I$(srcdir)/../../../src/include/common
--- 245,248 ----
  
  vpath %.c   $(srcdir)/../../../src/c++/common/base
  
! AM_CPPFLAGS = -DFUNAMBOL_LIBRARY_CODE -I$(srcdir)/../../../src/include/posix -I$(srcdir)/../../../src/include/common
Only in /home/patrick/projects/native: .patches
diff -r -c -x CVS -x config.guess -x config.sub -x depcomp -x install-sh -x ltmain.sh -x missing -x aclocal.m4 -x configure -x '.#*' -x '*~' -x '*.in' -x autom4te.cache /home/patrick/projects/native/src/include/common/base/fscapi.h client-api/src/include/common/base/fscapi.h
*** /home/patrick/projects/native/src/include/common/base/fscapi.h	2008-06-19 20:42:20.000000000 +0200
--- client-api/src/include/common/base/fscapi.h	2008-06-19 21:42:48.000000000 +0200
***************
*** 78,84 ****
      #endif
      
      #ifdef POSIX
!         #include "base/posixadapter.h"
      #elif SYMBIAN
          #include "base/symbianadapter.h"
      #elif defined(_WIN32_WCE) || defined(WIN32)
--- 78,88 ----
      #endif
      
      #ifdef POSIX
!         #ifdef FUNAMBOL_LIBRARY_CODE
!         # include "base/posixadapter.h"
!         #else
!         # include "posix/base/posixadapter.h"
!         #endif
      #elif SYMBIAN
          #include "base/symbianadapter.h"
      #elif defined(_WIN32_WCE) || defined(WIN32)
diff -r -c -x CVS -x config.guess -x config.sub -x depcomp -x install-sh -x ltmain.sh -x missing -x aclocal.m4 -x configure -x '.#*' -x '*~' -x '*.in' -x autom4te.cache /home/patrick/projects/native/src/include/posix/base/posixadapter.h client-api/src/include/posix/base/posixadapter.h
*** /home/patrick/projects/native/src/include/posix/base/posixadapter.h	2008-04-16 19:20:36.000000000 +0200
--- client-api/src/include/posix/base/posixadapter.h	2008-06-19 21:23:45.000000000 +0200
***************
*** 61,75 ****
  // on standard header files. Include its header file first.
  #include <base/test.h>
  
  // Cygwin version of gcc does have these builtin
  #ifndef __CYGWIN__
  # define __declspec(x)
  # define __cdecl
! #endif
  
  // Enable the fix for encoding when building for posix
  #define VOCL_ENCODING_FIX
! 
  
  #ifdef USE_WCHAR
  
--- 61,76 ----
  // on standard header files. Include its header file first.
  #include <base/test.h>
  
+ #ifdef FUNAMBOL_LIBRARY_CODE
  // Cygwin version of gcc does have these builtin
  #ifndef __CYGWIN__
  # define __declspec(x)
  # define __cdecl
! #endif // FUNAMBOL_LIBRARY_CODE
  
  // Enable the fix for encoding when building for posix
  #define VOCL_ENCODING_FIX
! #endif
  
  #ifdef USE_WCHAR
  
***************
*** 131,136 ****
--- 132,138 ----
  
  #else
  
+ #ifdef FUNAMBOL_LIBRARY_CODE
  /* map WCHAR and its functions back to standard functions */
  #       undef WCHAR
  #       define WCHAR char
***************
*** 171,176 ****
--- 173,180 ----
  #       define _wcsicmp strcasecmp
  #       define _stricmp strcasecmp
  
+ #endif // FUNAMBOL_LIBRARY_CODE
+ 
  #endif
  
  /* some of the code compares NULL against integers, which
***************
*** 178,185 ****
--- 182,191 ----
  #undef NULL
  #define NULL 0
  
+ #ifdef FUNAMBOL_LIBRARY_CODE
  #define min(x,y) ( (x) < (y) ? (x) : (y) )
  #define max(x,y) ( (x) > (y) ? (x) : (y) )
+ #endif // FUNAMBOL_LIBRARY_CODE
  
  /** @endcond */
  #endif
Only in /home/patrick/projects/native/test: synccompare.pl.orig
